<div class="bg-slate-800 rounded-lg shadow-xl border border-slate-600 p-6 w-full max-w-2xl mx-4 relative max-h-[90vh] overflow-y-auto">
  <div class="flex justify-between items-center mb-6">
    <h3 class="text-xl font-semibold text-slate-100 flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-400" viewBox="0 0 20 20" fill="currentColor">
        <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
      </svg>
      Editar Información del Jugador
    </h3>
    <button onclick="closeEditInfoModal()" class="text-slate-400 hover:text-slate-200 transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>
    </button>
  </div>

  <%= form_with model: player, url: update_info_player_path(player), method: :patch, 
                local: false,
                class: "space-y-4" do |f| %>
    
    <!-- Información Básica -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Tag/Entrant Name -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
          </svg>
          Tag/Nombre de Jugador *
        </label>
        <%= f.text_field :entrant_name, 
              class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
              placeholder: "Ej: Braixen, Tank, etc." %>
        <% if player.errors[:entrant_name].any? %>
          <p class="text-red-400 text-xs mt-1"><%= player.errors[:entrant_name].first %></p>
        <% end %>
      </div>

      <!-- Nombre Real -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd" />
          </svg>
          Nombre Real
        </label>
        <%= f.text_field :name, 
              class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
              placeholder: "Ej: Pablo Figueroa" %>
        <% if player.errors[:name].any? %>
          <p class="text-red-400 text-xs mt-1"><%= player.errors[:name].first %></p>
        <% end %>
      </div>
    </div>

    <!-- Ubicación -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- País -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
          </svg>
          País
        </label>
        <%= f.text_field :country, 
              class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
              placeholder: "Ej: Chile" %>
      </div>

      <!-- Estado/Región -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
          </svg>
          Estado/Región
        </label>
        <%= f.select :state, 
              options_for_select([
                ['Seleccionar región...', '']
              ] + region_options, player.state),
              {},
              {
                class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
              } %>
      </div>

      <!-- Ciudad -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
          </svg>
          Ciudad
        </label>
        <%= f.text_field :city, 
              class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
              placeholder: "Ej: Santiago" %>
      </div>
    </div>

    <!-- Redes Sociales y Otros -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Twitter Handle -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
          </svg>
          Twitter (sin @)
        </label>
        <%= f.text_field :twitter_handle, 
              class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
              placeholder: "Ej: BunnyBraixen" %>
      </div>

      <!-- Pronombres de Género -->
      <div>
        <label class="block text-sm font-medium text-slate-300 mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd" />
          </svg>
          Pronombres
        </label>
        <%= f.select :gender_pronoun, 
              options_for_select([
                ['Seleccionar...', ''],
                ['He/Him', 'He/Him'],
                ['She/Her', 'She/Her'],
                ['They/Them', 'They/Them'],
                ['Any', 'Any'],
                ['Él/Él', 'Él/Él'],
                ['Ella/Ella', 'Ella/Ella'],
                ['Elle/Elle', 'Elle/Elle'],
                ['Cualquiera', 'Cualquiera']
              ], player.gender_pronoun || player.try(:gender_pronoum)),
              {},
              {
                class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
              } %>
      </div>
    </div>

    <!-- Fecha de Nacimiento -->
    <div>
      <label class="block text-sm font-medium text-slate-300 mb-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
        </svg>
        Fecha de Nacimiento
      </label>
      <%= f.date_field :birthday, 
            class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
    </div>

    <!-- Biografía -->
    <div>
      <label class="block text-sm font-medium text-slate-300 mb-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
        </svg>
        Biografía
      </label>
      <%= f.text_area :bio, 
            rows: 3,
            class: "w-full bg-slate-700 border border-slate-600 text-slate-200 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",
            placeholder: "Información adicional sobre el jugador..." %>
    </div>

    <!-- Información del Sistema -->
    <div class="bg-slate-700 rounded-md p-3 text-xs text-slate-400">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
        <div>
          <strong>User ID:</strong> <%= player.user_id %>
        </div>
        <div>
          <strong>Discriminator:</strong> <%= player.discriminator %>
        </div>
        <div>
          <strong>Última actualización:</strong> <%= player.updated_at.strftime("%d/%m/%Y %H:%M") %>
        </div>
        <div>
          <strong>Eventos participados:</strong> <%= player.event_seeds.count %>
        </div>
      </div>
    </div>

    <!-- Botones -->
    <div class="flex justify-end space-x-3 pt-4 border-t border-slate-600">
      <button type="button" 
              onclick="closeEditInfoModal()" 
              class="px-4 py-2 border border-slate-500 text-slate-300 bg-slate-700 rounded-md hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-colors text-sm">
        Cancelar
      </button>
      <%= f.submit "Guardar Cambios", 
            class: "px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors text-sm font-medium" %>
    </div>
  <% end %>
</div> 
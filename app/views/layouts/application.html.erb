<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Smash Seeding Chile" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <%= efficient_stylesheet_link_tag "tailwind" %>
    <%= efficient_stylesheet_link_tag "application" %>
    <%= javascript_importmap_tags %>
    
    <!-- Tema oscuro con estilo gamer y restricciones de tamaño para imágenes -->
    <style>
      /* Tema oscuro gamer */
      body {
        background-color: #0f172a; /* azul marino oscuro (slate-900) */
        color: #e2e8f0; /* texto claro (slate-200) */
      }
      
      /* Contenedor principal y tablas */
      .container, main {
        background-color: #0f172a; /* azul marino oscuro */
      }
      
      /* Tarjetas y elementos contenedores */
      .bg-white, .shadow-md, .shadow-sm, .bg-gray-50, .bg-gray-100 {
        background-color: #1e293b !important; /* slate-800 */
        border-color: #334155 !important; /* slate-600 */
      }
      
      /* Elementos de las tablas */
      table {
        background-color: #1e293b !important; /* slate-800 */
        color: #e2e8f0 !important; /* slate-200 */
      }
      
      table th {
        background-color: #0f172a !important; /* slate-900 */
        color: #f8fafc !important; /* slate-50 */
      }
      
      table tr {
        border-color: #334155 !important; /* slate-600 */
      }
      
      table tr:hover, .hover\:bg-gray-50:hover, .hover\:bg-gray-100:hover {
        background-color: #334155 !important; /* slate-600 */
      }
      
      /* Cabecera de la tabla con degradado */
      .bg-gradient-to-r.from-blue-50.to-green-50 {
        background: linear-gradient(to right, #0f172a, #134e4a) !important; /* slate-900 a teal-900 */
        border-bottom: 2px solid #ef4444; /* rojo-500 - línea de acento */
      }

      /* Textos */
      .text-gray-800, .text-gray-700, .text-gray-600, .text-gray-500, .text-gray-400 {
        color: #e2e8f0 !important; /* slate-200 */
      }
      
      .font-semibold, .font-medium, .font-bold {
        color: #f8fafc !important; /* slate-50 */
      }
      
      /* Botones principales */
      .bg-green-600, .bg-green-500 {
        background-color: #ef4444 !important; /* rojo-500 - color de acento */
        border-color: #b91c1c !important; /* rojo-700 */
      }
      .hover\:bg-green-700:hover {
        background-color: #b91c1c !important; /* rojo-700 */
      }
      
      /* Botones secundarios */
      .bg-blue-600, .text-blue-600, .text-blue-700 {
        background-color: #2563eb !important; /* azul-600 */
        color: #f8fafc !important; /* slate-50 */
        border-color: #1d4ed8 !important; /* azul-700 */
      }
      .hover\:bg-blue-700:hover, .hover\:bg-blue-50:hover {
        background-color: #1d4ed8 !important; /* azul-700 */
      }
      
      /* Barras de progreso */
      .bg-blue-500 {
        background-color: #2563eb !important; /* azul-600 */
      }
      .bg-amber-500 {
        background-color: #f59e0b !important; /* ámbar-500 */
      }

      /* Elementos neón para acento */
      .star-icon, img[src*="star"] {
        filter: drop-shadow(0 0 3px #f87171); /* rojo-300 - efecto neón */
      }

      /* Regla general para todos los iconos e imágenes */
      img, svg {
        max-width: 40px;
        max-height: 40px;
      }
      
      /* Iconos de información principal */
      .info-icon {
        max-width: 24px;
        max-height: 24px;
      }
      
      /* Iconos en las tablas y listas */
      table img, table svg {
        max-width: 24px;
        max-height: 24px;
      }
      
      /* Iconos de marcador de ubicación */
      img[src*="location"], 
      img[src*="marker"], 
      img[src*="pin"] {
        max-width: 24px !important;
        max-height: 24px !important;
      }
      
      /* Iconos de estrella */
      img[src*="star"], 
      .star-icon {
        max-width: 32px !important;
        max-height: 32px !important;
      }
      
      /* Avatares de usuario */
      .avatar, 
      img[src*="avatar"], 
      img[src*="user"] {
        max-width: 32px;
        max-height: 32px;
        border-radius: 50%;
      }
    </style>
    
    <script type="text/javascript">
      // Función para limitar el tamaño de imágenes después de cargar la página
      document.addEventListener('DOMContentLoaded', function() {
        // Agregar clase a las imágenes grandes
        document.querySelectorAll('img[width="64"], img[width="96"], img[width="128"]').forEach(img => {
          img.style.maxWidth = '32px';
          img.style.maxHeight = '32px';
        });
      });
    </script>
  </head>

  <body class="bg-slate-900">
    <%= turbo_frame_tag "flash" do %>
      <%= render "shared/flash" %>
    <% end %>

    <main class="container mx-auto mt-28 px-5 flex flex-col">
      <%= yield %>
    </main>
  </body>
</html>
